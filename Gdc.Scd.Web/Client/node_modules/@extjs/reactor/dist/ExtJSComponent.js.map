{"version":3,"sources":["../src/ExtJSComponent.js"],"names":["Ext","window","CLASS_CACHE","Grid","ClassManager","getByAlias","Column","Button","Menu","ToolTip","CellBase","get","WidgetCell","Dialog","Field","FitLayout","TabPanel","RendererCell","ExtJSComponent","element","cmp","el","_flags","_hostNode","_hostParent","_renderedChildren","_hostContainerInfo","_currentElement","_topLevelWrapper","displayName","unmountSafely","process","env","NODE_ENV","_renderedNodeType","HOST","_renderedComponent","toJSON","transaction","nativeParent","nativeContainerInfo","context","renderToDOMNode","_node","config","_createInitialConfig","result","_renderRootComponent","createExtJSComponent","node","Object","defineProperty","on","unmountChildren","_precacheNode","nextComponent","destroyed","props","_rushProps","updateChildren","_applyDefaults","_applyProps","safely","destroying","$reactorConfig","parentCmp","getParentCmp","indexInParent","indexOf","items","reactorSettings","debug","console","log","$className","navigation","View","pop","destroy","_extIndexInParent","_extParent","height","width","renderTo","isClassic","updateLayout","dom","renderElement","children","defaults","map","child","type","prototype","_createConfig","_ensureResponsivePlugin","dockedItems","mountChildren","i","length","item","Base","prop","_propForChildElement","value","array","name","push","dock","wrapDOMElement","Error","rel","extJSClass","isAssignableFrom","Component","_cloneConfig","initialConfig","xclass","propName","match","slice","toLowerCase","includeEvents","_cloneProps","listeners","key","hasOwnProperty","eventName","_eventNameForProp","replace","renderer","cell","xtype","responsiveConfig","plugins","Array","isArray","resposive","responsive","oldProps","newProps","rushConfigs","__reactorUpdateConfigsBeforeChildren","oldConfigs","newConfigs","keys","oldValue","newValue","_replaceEvent","setter","_setterFor","oldHandler","newHandler","un","_capitalize","str","hasCachedChildNodes","_doPrecacheNode","single","_extCmp","n","found","$createdByReactor","indexInChildren","forEach","propForChild","index","isArrayDelete","getter","_getterFor","currentValue","filter","undefined","splice","_toArrayConfigIndex","concat","_reactorIgnoreOrder","layout","ContainerMixin","Mixin","moveChild","afterNode","toIndex","lastIndex","_ignoreChildrenOrder","_mountIndex","childComponent","toComponent","getHostNode","_mergeConfig","insertDocked","docked","floated","positioned","remove","newIndex","_toReactChildIndex","insert","createChild","childNode","removeChild","HTMLElement","contentEl","cls","insertTreeBefore","target","document","createElement","subClass","parentClass","getParent","ownerCt","oldReplaceNodeWithMarkup","replaceNodeWithMarkup","oldChild","markup","newChild","parent","apply","arguments"],"mappings":"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","file":"ExtJSComponent.js","sourcesContent":["import ReactDOM from 'react-dom'; // need to ensure ReactDOM is loaded before patching ReactComponentEnvironment.replaceNodeWithMarkup\nimport ReactComponentEnvironment from 'react-dom/lib/ReactComponentEnvironment';\nimport { Component, Children, cloneElement } from 'react';\nimport ReactMultiChild from 'react-dom/lib/ReactMultiChild';\nimport DOMLazyTree from 'react-dom/lib/DOMLazyTree';\nimport { precacheNode } from 'react-dom/lib/ReactDOMComponentTree';\nimport Flags from 'react-dom/lib/ReactDOMComponentFlags';\nimport union from 'lodash.union';\nimport capitalize from 'lodash.capitalize'\nimport defaults from 'lodash.defaults';\nimport cloneDeepWith from 'lodash.clonedeepwith';\nimport isEqual from 'lodash.isequal';\nimport toJSON, { ReactNodeTypes } from './toJSON';\n\nconst Ext = window.Ext;\n\nconst CLASS_CACHE = {\n    Grid: Ext.ClassManager.getByAlias('widget.grid'),\n    Column: Ext.ClassManager.getByAlias('widget.gridcolumn'),\n    Button: Ext.ClassManager.getByAlias('widget.button'),\n    Menu: Ext.ClassManager.getByAlias('widget.menu'),\n    ToolTip: Ext.ClassManager.getByAlias('widget.tooltip'),\n    CellBase: Ext.ClassManager.get('Ext.grid.cell.Base'),\n    WidgetCell: Ext.ClassManager.getByAlias('widget.widgetcell'),\n    Dialog: Ext.ClassManager.getByAlias('widget.dialog'),\n    Field: Ext.ClassManager.getByAlias('widget.field'),\n    FitLayout: Ext.ClassManager.getByAlias('layout.fit'),\n    TabPanel: Ext.ClassManager.getByAlias('widget.tabpanel'),\n    RendererCell: Ext.ClassManager.getByAlias('widget.renderercell')\n}\n\nexport default class ExtJSComponent extends Component {\n\n    constructor(element) {\n        super(element);\n        this.cmp = null;\n        this.el = null;\n        this._flags = null;\n        this._hostNode = null;\n        this._hostParent = null;\n        this._renderedChildren = null;\n        this._hostContainerInfo = null;\n        this._currentElement = element;\n        this._topLevelWrapper = null;\n        this.displayName = 'ExtJSComponent';\n        this.unmountSafely = false;\n\n        // needed for serializing jest snapshots when using react-test-renderer\n        if (process.env.NODE_ENV === 'test') {\n            this._renderedNodeType = ReactNodeTypes.HOST; // HOST\n            this._renderedComponent = {\n                toJSON: () => toJSON(this)\n            }\n        }\n    }\n\n    // begin React renderer methods\n\n    /**\n     * Creates an Ext JS component.\n     * This is needed by the React rendering API\n     * @param transaction\n     * @param nativeParent\n     * @param nativeContainerInfo\n     * @param context\n     * @returns {null|*}\n     */\n    mountComponent(transaction, nativeParent, nativeContainerInfo, context) {\n        const element = this._currentElement;\n\n        let renderToDOMNode;\n\n        if (nativeParent instanceof ExtJSComponent) {\n            this._hostContainerInfo = nativeParent._hostContainerInfo; // propagate _hostContainerInfo - this is needed to render dom elements inside Ext JS components\n        } else if (nativeParent) {\n            this._hostContainerInfo = nativeParent._hostContainerInfo; // propagate _hostContainerInfo - this is needed to render dom elements inside Ext JS components\n            renderToDOMNode = nativeParent._hostNode;\n        } else {\n            this._hostContainerInfo = nativeContainerInfo;\n            renderToDOMNode = nativeContainerInfo._node;\n        }\n\n        this._hostParent = nativeParent; // this is needed by ReactDOMComponentTree#getNodeFromInstance\n\n        const config = this._createInitialConfig(element, transaction, context)\n\n        let result;\n\n        if (renderToDOMNode) {\n            result = this._renderRootComponent(renderToDOMNode, config);\n        } else {\n            result = this.cmp = this.createExtJSComponent(config);\n        }\n\n        // this allows React internals to get the mounted instance for debug tools when using dangerouslyReplaceNodeWithMarkup\n        // this is probably not needed in fiber\n        if (!result.node) Object.defineProperty(result, 'node', {\n            get: () => this.el\n        });\n\n        // Ensure that componentWillUnmount is called on children.\n        // We wait until the Ext JS component is destroyed rather than calling unmountChildren in unmountComponent\n        // so that we don't unmount children during a Transition's animation.\n        this.cmp.on('destroy', () => {\n            this.unmountChildren(this.unmountSafely); \n        });\n\n        this._precacheNode();\n        \n        return result;\n    }\n\n    /**\n     * Updates the component\n     * @param nextComponent\n     * @param transaction\n     * @param context\n     */\n    receiveComponent(nextComponent, transaction, context) {\n        if (!this.cmp || this.cmp.destroyed) return;\n        const props = nextComponent.props;\n        this._rushProps(this._currentElement.props, props);\n        this.updateChildren(this._applyDefaults(props), transaction, context);\n        this._applyProps(this._currentElement.props, props);\n        this._currentElement = nextComponent;\n    }\n\n    /**\n     * Destroys the component\n     */\n    unmountComponent(safely) {\n        this.unmountSafely = safely;\n\n        if (this.cmp) {\n            if (this.cmp.destroying || this.cmp.$reactorConfig) return;\n\n            const parentCmp = getParentCmp(this.cmp);\n\n            // remember the parent and position in parent for dangerouslyReplaceNodeWithMarkup\n            // this not needed in fiber\n            let indexInParent;\n\n            if (parentCmp) {\n                if (parentCmp.indexOf) {\n                    // modern\n                    indexInParent = parentCmp.indexOf(this.cmp);\n                } else if (parentCmp.items && parentCmp.items.indexOf) {\n                    // classic\n                    indexInParent = parentCmp.items.indexOf(this.cmp);\n                }\n            }\n\n            if (this.reactorSettings.debug) console.log('destroy', this.cmp.$className);\n\n            if (Ext.navigation && Ext.navigation.View && parentCmp && parentCmp instanceof Ext.navigation.View) {\n                parentCmp.pop();\n            } else {\n                this.cmp.destroy();\n            }\n\n            // remember the parent and position in parent for dangerouslyReplaceNodeWithMarkup\n            // this not needed in fiber\n            this.el._extIndexInParent = indexInParent;\n            this.el._extParent = parentCmp;\n        }\n    }\n\n    /**\n     * Returns the Ext JS component instance\n     */\n    getHostNode() {\n        return this.el;\n    }\n\n    /**\n     * Returns the Ext JS component instance\n     */\n    getPublicInstance() {\n        return this.cmp;\n    }\n\n    // end react renderer methods\n\n    _renderRootComponent(renderToDOMNode, config) {\n        defaults(config, {\n            height: '100%',\n            width: '100%'\n        });\n\n        config.renderTo = renderToDOMNode;\n\n        this.cmp = this.createExtJSComponent(config);\n\n        if (Ext.isClassic) {\n            this.cmp.el.on('resize', () => this.cmp && this.cmp.updateLayout());\n            this.el = this.cmp.el.dom;\n        } else {\n            this.el = this.cmp.renderElement.dom;\n        }\n\n        return { node: this.el, children: [] };\n    }\n\n    _applyDefaults({ defaults, children }) {\n        if (defaults) {\n            return Children.map(children, child => {\n                if (child.type.prototype instanceof ExtJSComponent) {\n                    return cloneElement(child, { ...defaults, ...child.props })\n                } else {\n                    return child;\n                }\n            })\n        } else {\n            return children;\n        }\n    }\n\n    /**\n     * Creates an Ext JS component config from react element props\n     * @private\n     */\n    _createInitialConfig(element, transaction, context) {\n        const { type, props } = element;\n        const config = this._createConfig(props, true);\n        this._ensureResponsivePlugin(config);\n\n        const items = [], dockedItems = [];\n        \n        if (props.children) {\n            const children = this.mountChildren(this._applyDefaults(props), transaction, context);\n\n            for (let i=0; i<children.length; i++) {\n                const item = children[i];\n\n                if (item instanceof Ext.Base) {\n                    const prop = this._propForChildElement(item);\n\n                    if (prop) {\n                        item.$reactorConfig = true;\n                        const value = config;\n\n                        if (prop.array) {\n                            let array = config[prop.name];\n                            if (!array) array = config[prop.name] = [];\n                            array.push(item);\n                        } else {\n                            config[prop.name] = prop.value || item;\n                        }\n                    } else {\n                        (item.dock ? dockedItems : items).push(item);\n                    }\n                } else if (item.node) {\n                    items.push(wrapDOMElement(item));\n                } else if (typeof item === 'string') {\n                    // will get here when rendering html elements in react-test-renderer\n                    // no need to do anything\n                } else {\n                    throw new Error('Could not render child item: ' + item);\n                }\n            }\n        }\n\n        if (items.length) config.items = items;\n        if (dockedItems.length) config.dockedItems = dockedItems;\n\n        return config;\n    }\n\n    /**\n     * Determines whether a child element corresponds to a config or a container item based on the presence of a rel config or\n     * matching other known relationships\n     * @param {Ext.Base} item\n     */\n    _propForChildElement(item) {\n        if (item.config && item.config.rel) {\n            if (typeof item.config.rel === 'string') {\n                return { name: item.config.rel }\n            } else {\n                return item.config.rel;\n            }\n        }\n\n        const { extJSClass } = this;\n\n        if (isAssignableFrom(extJSClass, CLASS_CACHE.Button) && CLASS_CACHE.Menu && item instanceof CLASS_CACHE.Menu) {\n            return { name: 'menu', array: false };\n        } else if (isAssignableFrom(extJSClass, Ext.Component) && CLASS_CACHE.ToolTip && item instanceof CLASS_CACHE.ToolTip) {\n            return { name: 'tooltip', array: false };\n        } else if (CLASS_CACHE.Column && item instanceof CLASS_CACHE.Column) {\n            return { name: 'columns', array: true };\n        } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && CLASS_CACHE.CellBase && item instanceof CLASS_CACHE.CellBase) {\n            return { name: 'cell', array: false, value: this._cloneConfig(item) }\n        } else if (isAssignableFrom(extJSClass, CLASS_CACHE.WidgetCell)) {\n            return { name: 'widget', array: false, value: this._cloneConfig(item) }\n        } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Dialog) && CLASS_CACHE.Button && item instanceof CLASS_CACHE.Button) {\n            return { name: 'buttons', array: true };\n        } else if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && CLASS_CACHE.Field && item instanceof CLASS_CACHE.Field) {\n            return { name: 'editor', array: false, value: this._cloneConfig(item) };\n        }\n    }\n\n    _cloneConfig(item) {\n        return { ...item.initialConfig, xclass: item.$className };\n    }\n\n    /**\n     * If the propName corresponds to an event listener (starts with \"on\" followed by a capital letter), returns the name of the event.\n     * @param {String} propName \n     * @param {String}\n     */\n    _eventNameForProp(propName) {\n        if (propName.match(/^on[A-Z]/)) {\n            return propName.slice(2).toLowerCase();\n        } else {\n            return null;\n        }\n    }\n\n    /**\n     * Creates an Ext config object for this specified props\n     * @param {Object} props\n     * @param {Boolean} [includeEvents] true to convert on* props to listeners, false to exclude them\n     * @private\n     */\n    _createConfig(props, includeEvents) {\n        props = this._cloneProps(props);\n\n        const config = {};\n\n        if (includeEvents) config.listeners = {};\n\n        for (let key in props) {\n            if (props.hasOwnProperty(key)) {\n                const value = props[key];\n                const eventName = this._eventNameForProp(key);\n\n                if (eventName) {\n                    if (value && includeEvents) config.listeners[eventName] = value;\n                } else if (key === 'config') {\n                    Object.assign(config, value);\n                } else if (key !== 'children' && key !== 'defaults') {\n                    config[key.replace(/className/, 'cls')] = value;\n                }\n            }\n        }\n\n        const { extJSClass } = this;\n\n        if (isAssignableFrom(extJSClass, CLASS_CACHE.Column) && typeof config.renderer === 'function' && CLASS_CACHE.RendererCell) {\n            config.cell = config.cell || {};\n            config.cell.xtype = 'renderercell';\n        }\n\n        return config;\n    }\n\n    _ensureResponsivePlugin(config) {\n        if (config.responsiveConfig) {\n            const { plugins } = config;\n\n            if (plugins == null) {\n                config.plugins = 'responsive';\n            } else if (Array.isArray(plugins) && plugins.indexOf('responsive') === -1) {\n                plugins.push('responsive');\n            } else if (typeof plugins === 'string') {\n                if (plugins !== 'responsive') {\n                    config.plugins = [plugins, 'responsive'];\n                }\n            } else if (!plugins.resposive) {\n                plugins.responsive = true;\n            }\n        }\n    }\n\n    /**\n     * Cloning props rather than passing them directly on as configs fixes issues where Ext JS mutates configs during\n     * component initialization.  One example of this is grid columns get $initParent added when the grid initializes.\n     * @param {Object} props\n     * @private\n     */\n    _cloneProps(props) {\n        return cloneDeepWith(props, value => {\n            if (value instanceof Ext.Base || typeof(value) === 'function') {\n                return value;\n            }\n        })\n    }\n\n    _rushProps(oldProps, newProps) {\n        const rushConfigs = this.extJSClass.__reactorUpdateConfigsBeforeChildren;\n        if (!rushConfigs) return;\n        const oldConfigs = {}, newConfigs = {}\n\n        for (let name in rushConfigs) {\n            oldConfigs[name] = oldProps[name];\n            newConfigs[name] = newProps[name]\n        }\n\n        this._applyProps(oldConfigs, newConfigs);\n    }\n\n    /**\n     * Calls config setters for all react props that have changed\n     * @private\n     */\n    _applyProps(oldProps, props) {\n        const keys = union(Object.keys(oldProps), Object.keys(props));\n\n        for (let key of keys) {\n            const oldValue = oldProps[key], newValue = props[key];\n\n            if (key === 'children') continue;\n\n            if (!isEqual(oldValue, newValue)) {\n                const eventName = this._eventNameForProp(key);\n\n                if (eventName) {\n                    this._replaceEvent(eventName, oldValue, newValue);\n                } else {\n                    const setter = this._setterFor(key);\n\n                    if (setter) {\n                        const value = this._cloneProps(newValue);\n                        if (this.reactorSettings.debug) console.log(setter, newValue);\n                        this.cmp[setter](value);\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Detaches the old event listener and adds the new one.\n     * @param {String} eventName \n     * @param {Function} oldHandler \n     * @param {Function} newHandler \n     */\n    _replaceEvent(eventName, oldHandler, newHandler) {\n        if (oldHandler) {\n            if (this.reactorSettings.debug) console.log(`detaching old listener for ${eventName}`);\n            this.cmp.un(eventName, oldHandler);\n        }\n\n        if (this.reactorSettings.debug) console.log(`attaching new listener for ${eventName}`);\n        this.cmp.on(eventName, newHandler);\n    }\n\n    /**\n     * Returns the name of the setter method for a given prop.\n     * @param {String} prop\n     */\n    _setterFor(prop) {\n        if (prop === 'className') {\n            prop = 'cls';\n        }\n        const name = `set${this._capitalize(prop)}`;\n        return this.cmp[name] && name;\n    }\n\n    /**\n     * Returns the name of a getter for a given prop.\n     * @param {String} prop\n     */\n    _getterFor(prop) {\n        const name = `get${this._capitalize(prop)}`;\n        return this.cmp[name] && name;\n    }\n\n    /**\n     * Capitalizes the first letter in the string\n     * @param {String} str\n     * @return {String}\n     * @private\n     */\n    _capitalize(str) {\n        return capitalize(str[0]) + str.slice(1);\n    }\n\n    _precacheNode() {\n        this._flags |= Flags.hasCachedChildNodes;\n\n        if (this.el) {\n            // will get here when rendering root component\n            precacheNode(this, this.el)\n        } else if (this.cmp.el) {\n            this._doPrecacheNode();\n        } else if (Ext.isClassic) {\n            // we get here when rendering child components due to lazy rendering\n            this.cmp.on('afterrender', this._doPrecacheNode, this, { single: true });\n        }\n    }\n\n    _doPrecacheNode() {\n        this.el = this.cmp.el.dom;\n        this.el._extCmp = this.cmp;\n        precacheNode(this, this.el)\n    }\n\n    /**\n     * Returns the child item at the given index, only counting those items which were created by Reactor\n     * @param {Number} n\n     */\n    _toReactChildIndex(n) {\n        let items = this.cmp.items;\n\n        if (!items) return n;\n        if (items.items) items = items.items;\n\n        let found=0, i, item;\n\n        for (i=0; i<items.length; i++) {\n            item = items[i];\n\n            if (item.$createdByReactor && found++ === n) {\n                return i;\n            }\n        }\n\n        return i;\n    }\n\n    /**\n     * Translates and index in props.children to an index within a config value that is an array.  Use\n     * this to determine the position of an item in props.children within the array config to which it is mapped.\n     * @param {*} prop\n     * @param {*} indexInChildren\n     */\n    _toArrayConfigIndex(prop, indexInChildren) {\n        let i=0, found=0;\n\n        Children.forEach(this.props.children, child => {\n            const propForChild = this._propForChildElement(child);\n\n            if (propForChild && propForChild.name === prop.name) {\n                if (i === indexInChildren) return found;\n                found++;\n            }\n        });\n\n        return -1;\n    }\n\n    /**\n     * Updates a config based on a child element\n     * @param {Object} prop The prop descriptor (name and array)\n     * @param {Ext.Base} value The value to set\n     * @param {Number} [index] The index of the child element in props.children\n     * @param {Boolean} [isArrayDelete=false] True if removing the item from an array\n     */\n    _mergeConfig(prop, value, index, isArrayDelete) {\n        const setter = this._setterFor(prop.name);\n        if (!setter) return;\n\n        if (value) value.$reactorConfig = true;\n\n        if (prop.array) {\n            const getter = this._getterFor(prop.name);\n            if (!getter) return;\n\n            const currentValue = this.cmp[getter]() || [];\n\n            if (isArrayDelete) {\n                // delete\n                value = currentValue.filter(item => item !== value);\n            } else if (index !== undefined) {\n                // move\n                value = currentValue.filter(item => item !== value);\n                value = value.splice(this._toArrayConfigIndex(index, prop), 0, item);\n            } else {\n                // append\n                value = currentValue.concat(value);\n            }\n        }\n\n        if (this.reactorSettings.debug) console.log(setter, value);\n\n        this.cmp[setter](value);\n    }\n\n    _ignoreChildrenOrder() {\n        // maintaining order in certain components, like Transition's container, can cause problems with animations, _reactorIgnoreOrder gives us a way to opt out in such scenarios\n        if (this.cmp._reactorIgnoreOrder) return true; \n\n        // moving the main child of a container with layout fit causes it to disappear.  Instead we do nothing, which\n        // should be ok because fit containers are not ordered\n        if (CLASS_CACHE.FitLayout && this.cmp.layout instanceof CLASS_CACHE.FitLayout) return true; \n\n        // When tab to the left of the active tab is removed, the left-most tab would always be selected as the tabs to the right are reinserted\n        if (CLASS_CACHE.TabPanel && this.cmp instanceof CLASS_CACHE.TabPanel) return true;\n    }\n}\n\n/**\n * Extend ReactMultiChild to handle inserting and moving Component instances\n * within Ext JS Containers\n */\nconst ContainerMixin = Object.assign({}, ReactMultiChild.Mixin, {\n\n    /**\n     * Moves a child component to the supplied index.\n     * @param {ExtJSComponent} child Component to move.\n     * @param {Component} afterNode The component to move after\n     * @param {number} toIndex Destination index of the element.\n     * @param {number} lastIndex Last index visited of the siblings of `child`.\n     * @protected\n     */\n    moveChild(child, afterNode, toIndex, lastIndex) {\n        if (this._ignoreChildrenOrder()) return;\n        if (toIndex === child._mountIndex) return; // only move child if the actual mount index has changed\n\n        let childComponent = toComponent(child.cmp || child.getHostNode());\n\n        const prop = this._propForChildElement(childComponent);\n\n        if (prop) {\n            this._mergeConfig(prop, childComponent, toIndex);\n        } else if (childComponent) {\n            if (childComponent.dock) {\n                this.cmp.insertDocked(toIndex, childComponent);\n            } else {\n                // reordering docked components is known to cause issues in modern\n                // place items in a container instead\n                if (childComponent.config && (childComponent.config.docked || childComponent.config.floated || childComponent.config.positioned)) return;\n\n                // removing the child first ensures that we get the new index correct\n                this.cmp.remove(childComponent, false);\n\n                const newIndex = this._toReactChildIndex(toIndex);\n\n                if (this.reactorSettings.debug) console.log(`moving ${childComponent.$className} to position ${newIndex} in ${this.cmp.$className}`);\n\n                this.cmp.insert(newIndex, childComponent);\n            }\n        }\n    },\n\n    /**\n     * Creates a child component.\n     * @param {ExtJSComponent} child Component to create.\n     * @param {Component} afterNode The component to move after\n     * @param {Component} childNode The component to insert.\n     * @protected\n     */\n    createChild(child, afterNode, childNode) {\n        const prop = this._propForChildElement(childNode);\n\n        if (prop) {\n            this._mergeConfig(prop, childNode);\n        } else {\n            if (!(childNode instanceof Ext.Base)) {\n                // we're appending a dom node\n                childNode = wrapDOMElement(childNode);\n            }\n\n            const index = this._toReactChildIndex(child._mountIndex);\n            \n            if (this.reactorSettings.debug) {\n                console.log(`inserting ${childNode.$className} into ${this.cmp.$className} at position ${index}`);\n            }\n            \n            this.cmp[childNode.dock ? 'insertDocked' : 'insert'](index, childNode);\n        }\n    },\n\n    /**\n     * Removes a child component.\n     * @param {ExtJSComponent} child Child to remove.\n     * @param {Ext.Component/HTMLElement} node The node to remove\n     * @protected\n     */\n    removeChild(child, node) {\n        const prop = child instanceof ExtJSComponent && this._propForChildElement(child.cmp);\n\n        if (prop) {\n            this._mergeConfig(prop, prop.array ? toComponent(child.cmp) : null, null, true);\n        } else {\n            if (node instanceof HTMLElement && node._extCmp && !node._extCmp.destroying) {\n                if (this.reactorSettings.debug) console.log('removing', node._extCmp.$className);\n                node._extCmp.destroy();\n            }\n            // We don't need to do anything for Ext JS components because a component is automatically removed from it parent when destroyed\n        }\n    }\n});\n\n/**\n * Wraps a dom element in an Ext Component so it can be added as a child item to an Ext Container.  We attach\n * a reference to the generated Component to the dom element so it can be destroyed later if the dom element\n * is removed when rerendering\n * @param {Object} node A React node object with node, children, and text\n * @returns {Ext.Component}\n */\nfunction wrapDOMElement(node) {\n    let contentEl = node.node;\n\n    const cmp = new Ext.Component({ \n        // We give the wrapper component a class so that developers can reset css \n        // properties (ex. box-sizing: context-box) for third party components.\n        cls: 'x-react-element' \n    });\n    \n    if (cmp.element) {\n        // modern\n        DOMLazyTree.insertTreeBefore(cmp.element.dom, node);\n    } else {\n        // classic\n        const target = document.createElement('div');\n        DOMLazyTree.insertTreeBefore(target, node);\n        cmp.contentEl = contentEl instanceof HTMLElement ? contentEl : target /* text fragment or comment */;\n    }\n\n    cmp.$createdByReactor = true;\n    contentEl._extCmp = cmp;\n\n    // this is needed for devtools when using dangerouslyReplaceNodeWithMarkup\n    // this not needed in fiber\n    cmp.node = contentEl;\n\n    return cmp;\n}\n\n/**\n * Returns the Ext Component corresponding to the given node\n * @param {Ext.Component/HTMLElement/DocumentFragment} node\n * @returns {Ext.Component}\n */\nfunction toComponent(node) {\n    if (node instanceof Ext.Base) {\n        return node;\n    } else if (node) {\n        return node._extCmp;\n    }\n}\n\n/**\n * Returns true if subClass is parentClass or a sub class of parentClass\n * @param {Ext.Class} subClass\n * @param {Ext.Class} parentClass\n * @return {Boolean}\n */\nfunction isAssignableFrom(subClass, parentClass) {\n    if (!subClass || !parentClass) return false;\n    return subClass === parentClass || subClass.prototype instanceof parentClass;\n}\n\n/**\n * Returns the parent component in both modern and classic toolkits\n * @param {Ext.Component} cmp The child component\n */\nfunction getParentCmp(cmp) {\n    if (cmp.getParent) {\n        // modern\n        return cmp.getParent();\n    } else {\n        // classic\n        return cmp.ownerCt;\n    }\n}\n\n// Patch replaceNodeWithMarkup to fix bugs with swapping null and components\n// A prime example of this is using react-router 4, which renders a null when a route fails\n// to match.  React does not call createChild/removeChild in this case, but takes a completely separate\n// path through the renderer\nconst oldReplaceNodeWithMarkup = ReactComponentEnvironment.replaceNodeWithMarkup;\n\nReactComponentEnvironment.replaceNodeWithMarkup = function(oldChild, markup) {\n    if (oldChild._extCmp) {\n        const newChild = markup instanceof Ext.Base ? markup : wrapDOMElement(markup);\n        const parent = oldChild.hasOwnProperty('_extParent') ? oldChild._extParent : getParentCmp(oldChild._extCmp);\n        const index = oldChild.hasOwnProperty('_extIndexInParent') ? oldChild._extIndexInParent : parent.indexOf(oldChild._extCmp);\n        parent.insert(index, newChild);\n        oldChild._extCmp.destroy();\n    } else {\n        oldReplaceNodeWithMarkup.apply(this, arguments);\n    }\n}\n\nObject.assign(ExtJSComponent.prototype, ContainerMixin);"]}