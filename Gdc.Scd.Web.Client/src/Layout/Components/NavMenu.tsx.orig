import * as React from 'react';
import PropTypes from 'prop-types';
import { TreeList } from '@extjs/ext-react';
import { buildComponentUrl } from "../../Common/Services/Ajax";

declare var Ext:any;

Ext.require('Ext.data.TreeStore');

interface NavMenuProps {
    onItemClick: Function,
    selection: string
}

/**
 * The main navigation menu
 */
const NavMenu: React.SFC<NavMenuProps & any> = ({ 
    onItemClick, 
    selection, 
    ...props 
}) => (
    <TreeList 
        {...props}
        ui="nav"
        expanderFirst={false}
        onItemClick={(tree, item) => onItemClick(item.node.getId())}
        selection={selection}
        store={{
            root: {
                children: [
<<<<<<< HEAD
                    { id: '/', text: 'Home', iconCls: 'x-fa fa-home', leaf: true },
                    { id: '/about', text: 'About', iconCls: 'x-fa fa-info', leaf: true },
                    { id: '/pivot', text: 'Pivot grid', iconCls: 'x-fa fa-info', leaf: true },
                    { id: '/input-cost-elements', text: 'Input Cost Elements', iconCls: 'x-fa fa-info', leaf: true },
                    { id: '/cost-approval', text: 'Approve cost elements', iconCls: 'x-fa fa-check-square-o', leaf: true},
                    { id: '/own-cost-approval', text: 'Own approve cost elements', iconCls: 'x-fa fa-check-square-o', leaf: true},
                    { id: '/capability-matrix', text: 'Portfolio', iconCls: 'x-fa fa-suitcase', leaf: true },
                    {
                        id: '/admin', 
                        text: 'Admin', 
                        iconCls: 'x-fa fa-info', 
                        disabled: true, 
                        children: [
                            { id: '/admin/country-management', text: 'Country Management', iconCls: 'x-fa fa-globe', leaf: true }, 
                            { id: '/admin/availability-fee', text: 'Availability Fee', iconCls: 'x-fa fa-cog', leaf: true },
                            { id: '/admin/role-code-management', text: 'Role codes', iconCls: 'x-fa fa-users', leaf: true },
                            { id: '/admin/warranty-group-management', text: 'Warranty groups', iconCls: 'x-fa fa-industry', leaf: true }]
=======
                    { id: buildComponentUrl('/'), text: 'Home', iconCls: 'x-fa fa-home', leaf: true },
                    { id: buildComponentUrl('/about'), text: 'About', iconCls: 'x-fa fa-info', leaf: true },
                    { id: buildComponentUrl('/pivot'), text: 'Pivot grid', iconCls: 'x-fa fa-info', leaf: true },
                    { id: buildComponentUrl('/input-cost-elements'), text: 'Input Cost Elements', iconCls: 'x-fa fa-info', leaf: true },
                    { id: buildComponentUrl('/cost-approval'), text: 'Approve cost elements', iconCls: 'x-fa fa-check-square-o', leaf: true},
                    { id: buildComponentUrl('/capability-matrix'), text: 'Portfolio', iconCls: 'x-fa fa-suitcase', leaf: true },
                    {
                        id: buildComponentUrl('/admin'), text: 'Admin', iconCls: 'x-fa fa-info', disabled: true, children: [{
                            id: buildComponentUrl('/admin/country-management'),
                            text: 'Country Management', iconCls: 'x-fa fa-globe', leaf: true
                        }, {
                                id: buildComponentUrl('/admin/availability-fee'),
                            text: 'Availability Fee', iconCls: 'x-fa fa-cog', leaf: true
                            },
                            {
                                id: buildComponentUrl('/admin/warranty-group-management'),
                                text: 'Warranty groups', iconCls: 'x-fa fa-industry', leaf: true
                            },                       
                             {
                                 id: buildComponentUrl('/admin/user-role'),
                                text: 'User roles', iconCls: 'x-fa fa-users', leaf: true
                            }
                        ]
>>>>>>> master
                    }
                ]
            }
        }}
    />        
)

export default NavMenu;